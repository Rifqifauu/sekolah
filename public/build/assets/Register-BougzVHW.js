import{r as t,j as v,c as f,b as r,d as y,s as P,p as c,v as k,t as p,i as x,x as M,a as _,F as S,z as A,o as g}from"./app-COeLgVDB.js";import{E as C,S as E}from"./SuccessModal-DvnGcZmV.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B="/build/assets/undraw_post_eok2-Bcoasy7g.svg",R={components:{ErrorModal:C,SuccessModal:E},setup(){const u=t({name:"",email:"",password:"",password_confirmation:""}),e=t({}),h=t(!1),s=t(!1),a=t(!1),d=t(""),m=t(!1),w=t("Pendaftaran Akun Anda Berhasil");return{form:u,errors:e,showPassword:h,showConfirmPassword:s,handleRegister:async()=>{try{console.log("Register attempted with:",u.value);const l=await A.post("/register",u.value);console.log("Register successful:",l.data),m.value=!0,a.value=!1,setTimeout(()=>{document.location.href="/home"},2e3)}catch(l){if(l.response){const i=l.response.data.errors||{};if(Object.keys(i).length>0){console.error("Validation errors:",i);let n="";for(let b in i)i.hasOwnProperty(b)&&(n+=`${i[b][0]}  `);d.value=n,a.value=!0,setTimeout(()=>{a.value=!1},2e3)}else{const n=l.response.data.messages||[];n.length>0&&(console.error("Error messages:",n),d.value=n.join(", "),a.value=!0,setTimeout(()=>{a.value=!1},2e3))}}else console.error("An unexpected error occurred:",l),d.value="An unexpected error occurred. Please try again later.",a.value=!0,setTimeout(()=>{a.value=!1},2e3)}},showErrorModal:a,errorMessage:d,showSuccessModal:m,successMessage:w}}},D={class:"h-screen flex"},T={class:"w-full md:w-1/2 p-8 flex flex-col justify-center"},j={class:"max-w-md w-full mx-auto"},N={class:"space-y-4"},K={key:0,class:"text-red-500 text-sm mt-1"},U={key:0,class:"text-red-500 text-sm mt-1"},F={class:"relative"},O=["type"],z={key:0,class:"text-red-500 text-sm mt-1"},G={class:"relative"},I=["type"];function L(u,e,h,s,a,d){const m=v("ErrorModal"),w=v("SuccessModal");return g(),f(S,null,[r("div",D,[e[12]||(e[12]=r("div",{class:"w-1/2 bg-red-700 p-14 hidden md:block relative bg-gradient-to-l from-red-700 to-red-800",style:{"border-top-right-radius":"2rem","border-bottom-right-radius":"2rem"}},[r("h1",{class:"text-4xl font-bold text-white mb-4"}," Ayo Mulai Magang Sekarang! "),r("p",{class:"text-lg text-white mb-10"}," Daftarkan akun Anda untuk mendaftar magang dan mengakses semua fitur. "),r("img",{src:B,alt:"Illustration",class:"w-100"})],-1)),r("div",T,[e[11]||(e[11]=r("a",{href:"/login",class:"flex items-center text-red-700 hover:text-red-800 mb-4"},[r("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[r("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})]),y(" Kembali ke halaman Masuk ")],-1)),r("div",j,[e[8]||(e[8]=r("h2",{class:"text-3xl font-bold mb-4 text-red-700"},"Daftar",-1)),e[9]||(e[9]=r("p",{class:"text-gray-600 mb-6"}," Silakan isi formulir di bawah ini untuk membuat akun baru. ",-1)),r("form",{onSubmit:e[6]||(e[6]=P((...o)=>s.handleRegister&&s.handleRegister(...o),["prevent"]))},[r("div",N,[r("div",null,[c(r("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>s.form.name=o),placeholder:"Masukkan Nama Lengkap Anda",class:"w-full px-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-red-700 focus:border-red-700"},null,512),[[k,s.form.name]]),s.errors.name?(g(),f("p",K,p(s.errors.name),1)):x("",!0)]),r("div",null,[c(r("input",{type:"email","onUpdate:modelValue":e[1]||(e[1]=o=>s.form.email=o),placeholder:"Masukkan Email Anda",class:"w-full px-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-red-700 focus:border-red-700"},null,512),[[k,s.form.email]]),s.errors.email?(g(),f("p",U,p(s.errors.email),1)):x("",!0)]),r("div",F,[c(r("input",{type:s.showPassword?"text":"password","onUpdate:modelValue":e[2]||(e[2]=o=>s.form.password=o),placeholder:"Masukkan Kata Sandi Anda",class:"w-full px-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-red-700 focus:border-red-700"},null,8,O),[[M,s.form.password]]),r("button",{type:"button",onClick:e[3]||(e[3]=o=>s.showPassword=!s.showPassword),class:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400"}," üëÅ "),s.errors.password?(g(),f("p",z,p(s.errors.password),1)):x("",!0)]),r("div",G,[c(r("input",{type:s.showConfirmPassword?"text":"password","onUpdate:modelValue":e[4]||(e[4]=o=>s.form.password_confirmation=o),placeholder:"Konfirmasi Kata Sandi Anda",class:"w-full px-4 py-3 rounded-full border border-gray-300 focus:ring-2 focus:ring-red-700 focus:border-red-700"},null,8,I),[[M,s.form.password_confirmation]]),r("button",{type:"button",onClick:e[5]||(e[5]=o=>s.showConfirmPassword=!s.showConfirmPassword),class:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400"}," üëÅ ")]),e[7]||(e[7]=r("button",{type:"submit",class:"w-full bg-red-700 text-white py-3 rounded-full hover:bg-red-800 transition-colors"}," Daftar ",-1))])],32),e[10]||(e[10]=r("div",{class:"mt-4 text-center"},[r("p",{class:"text-gray-600"},[y(" Sudah Punya Akun? "),r("a",{href:"/login",class:"text-red-700 hover:underline"},"Masuk Sekarang")])],-1))])])]),_(m,{show:s.showErrorModal,message:s.errorMessage,title:"Pendaftaran Akun Gagal"},null,8,["show","message"]),_(w,{show:s.showSuccessModal,title:"Pendaftaran Akun Berhasil"},null,8,["show"])],64)}const Q=V(R,[["render",L]]);export{Q as default};
